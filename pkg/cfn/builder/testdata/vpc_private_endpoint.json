{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Resources": {
        "PrivateRouteTableUSWEST2A": {
            "Type": "AWS::EC2::RouteTable",
            "Properties": {
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": {
                            "Fn::Sub": "${AWS::StackName}/PrivateRouteTableUSWEST2A"
                        }
                    },
                    {
                        "Key": "yor_trace",
                        "Value": "42eb3dc7-0ebe-4cb2-b3fa-54358a680fb3"
                    }
                ],
                "VpcId": {
                    "Ref": "VPC"
                }
            }
        },
        "PrivateRouteTableUSWEST2B": {
            "Type": "AWS::EC2::RouteTable",
            "Properties": {
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": {
                            "Fn::Sub": "${AWS::StackName}/PrivateRouteTableUSWEST2B"
                        }
                    },
                    {
                        "Key": "yor_trace",
                        "Value": "ec533519-801f-4a3a-80e2-a0458f3da1f5"
                    }
                ],
                "VpcId": {
                    "Ref": "VPC"
                }
            }
        },
        "PrivateRouteTableUSWEST2C": {
            "Type": "AWS::EC2::RouteTable",
            "Properties": {
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": {
                            "Fn::Sub": "${AWS::StackName}/PrivateRouteTableUSWEST2C"
                        }
                    },
                    {
                        "Key": "yor_trace",
                        "Value": "b85ed41f-c2e3-4423-a396-74fb5ee7a8f5"
                    }
                ],
                "VpcId": {
                    "Ref": "VPC"
                }
            }
        },
        "PrivateRouteTableUSWEST2D": {
            "Type": "AWS::EC2::RouteTable",
            "Properties": {
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": {
                            "Fn::Sub": "${AWS::StackName}/PrivateRouteTableUSWEST2D"
                        }
                    },
                    {
                        "Key": "yor_trace",
                        "Value": "091368ab-56de-4680-8355-86b493598970"
                    }
                ],
                "VpcId": {
                    "Ref": "VPC"
                }
            }
        },
        "RouteTableAssociationPrivateUSWEST2A": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "RouteTableId": {
                    "Ref": "PrivateRouteTableUSWEST2A"
                },
                "SubnetId": {
                    "Ref": "SubnetPrivateUSWEST2A"
                }
            }
        },
        "RouteTableAssociationPrivateUSWEST2B": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "RouteTableId": {
                    "Ref": "PrivateRouteTableUSWEST2B"
                },
                "SubnetId": {
                    "Ref": "SubnetPrivateUSWEST2B"
                }
            }
        },
        "RouteTableAssociationPrivateUSWEST2C": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "RouteTableId": {
                    "Ref": "PrivateRouteTableUSWEST2C"
                },
                "SubnetId": {
                    "Ref": "SubnetPrivateUSWEST2C"
                }
            }
        },
        "RouteTableAssociationPrivateUSWEST2D": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "RouteTableId": {
                    "Ref": "PrivateRouteTableUSWEST2D"
                },
                "SubnetId": {
                    "Ref": "SubnetPrivateUSWEST2D"
                }
            }
        },
        "SubnetPrivateUSWEST2A": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "AvailabilityZone": "us-west-2a",
                "CidrBlock": "192.168.128.0/19",
                "Tags": [
                    {
                        "Key": "kubernetes.io/role/internal-elb",
                        "Value": "1"
                    },
                    {
                        "Key": "Name",
                        "Value": {
                            "Fn::Sub": "${AWS::StackName}/SubnetPrivateUSWEST2A"
                        }
                    },
                    {
                        "Key": "yor_trace",
                        "Value": "778b141f-446c-4032-ab78-700ac5c89454"
                    }
                ],
                "VpcId": {
                    "Ref": "VPC"
                }
            }
        },
        "SubnetPrivateUSWEST2B": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "AvailabilityZone": "us-west-2b",
                "CidrBlock": "192.168.160.0/19",
                "Tags": [
                    {
                        "Key": "kubernetes.io/role/internal-elb",
                        "Value": "1"
                    },
                    {
                        "Key": "Name",
                        "Value": {
                            "Fn::Sub": "${AWS::StackName}/SubnetPrivateUSWEST2B"
                        }
                    },
                    {
                        "Key": "yor_trace",
                        "Value": "6c44482e-b4cb-4b61-8e8e-cc0bdf43b0c4"
                    }
                ],
                "VpcId": {
                    "Ref": "VPC"
                }
            }
        },
        "SubnetPrivateUSWEST2C": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "AvailabilityZone": "us-west-2c",
                "CidrBlock": "192.168.192.0/19",
                "Tags": [
                    {
                        "Key": "kubernetes.io/role/internal-elb",
                        "Value": "1"
                    },
                    {
                        "Key": "Name",
                        "Value": {
                            "Fn::Sub": "${AWS::StackName}/SubnetPrivateUSWEST2C"
                        }
                    },
                    {
                        "Key": "yor_trace",
                        "Value": "e0cc3729-ac5f-4ed2-8446-c1c669d97fc3"
                    }
                ],
                "VpcId": {
                    "Ref": "VPC"
                }
            }
        },
        "SubnetPrivateUSWEST2D": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "AvailabilityZone": "us-west-2d",
                "CidrBlock": "192.168.224.0/19",
                "Tags": [
                    {
                        "Key": "kubernetes.io/role/internal-elb",
                        "Value": "1"
                    },
                    {
                        "Key": "Name",
                        "Value": {
                            "Fn::Sub": "${AWS::StackName}/SubnetPrivateUSWEST2D"
                        }
                    },
                    {
                        "Key": "yor_trace",
                        "Value": "0a192e65-b3d7-4303-82a3-90dc3e3ea639"
                    }
                ],
                "VpcId": {
                    "Ref": "VPC"
                }
            }
        },
        "VPC": {
            "Type": "AWS::EC2::VPC",
            "Properties": {
                "CidrBlock": "192.168.0.0/16",
                "EnableDnsHostnames": true,
                "EnableDnsSupport": true,
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": {
                            "Fn::Sub": "${AWS::StackName}/VPC"
                        }
                    },
                    {
                        "Key": "yor_trace",
                        "Value": "4d2a239a-f571-49b4-83d8-13240150494b"
                    }
                ]
            }
        },
        "VPCEndpointEC2": {
            "Type": "AWS::EC2::VPCEndpoint",
            "Properties": {
                "PrivateDnsEnabled": true,
                "SecurityGroupIds": [
                    "sg-test"
                ],
                "ServiceName": "com.amazonaws.us-west-2.ec2",
                "SubnetIds": [
                    {
                        "Ref": "SubnetPrivateUSWEST2A"
                    },
                    {
                        "Ref": "SubnetPrivateUSWEST2B"
                    },
                    {
                        "Ref": "SubnetPrivateUSWEST2C"
                    }
                ],
                "VpcEndpointType": "Interface",
                "VpcId": {
                    "Ref": "VPC"
                }
            }
        },
        "VPCEndpointECRAPI": {
            "Type": "AWS::EC2::VPCEndpoint",
            "Properties": {
                "PrivateDnsEnabled": true,
                "SecurityGroupIds": [
                    "sg-test"
                ],
                "ServiceName": "com.amazonaws.us-west-2.ecr.api",
                "SubnetIds": [
                    {
                        "Ref": "SubnetPrivateUSWEST2A"
                    },
                    {
                        "Ref": "SubnetPrivateUSWEST2B"
                    },
                    {
                        "Ref": "SubnetPrivateUSWEST2C"
                    },
                    {
                        "Ref": "SubnetPrivateUSWEST2D"
                    }
                ],
                "VpcEndpointType": "Interface",
                "VpcId": {
                    "Ref": "VPC"
                }
            }
        },
        "VPCEndpointECRDKR": {
            "Type": "AWS::EC2::VPCEndpoint",
            "Properties": {
                "PrivateDnsEnabled": true,
                "SecurityGroupIds": [
                    "sg-test"
                ],
                "ServiceName": "com.amazonaws.us-west-2.ecr.dkr",
                "SubnetIds": [
                    {
                        "Ref": "SubnetPrivateUSWEST2A"
                    },
                    {
                        "Ref": "SubnetPrivateUSWEST2B"
                    },
                    {
                        "Ref": "SubnetPrivateUSWEST2C"
                    },
                    {
                        "Ref": "SubnetPrivateUSWEST2D"
                    }
                ],
                "VpcEndpointType": "Interface",
                "VpcId": {
                    "Ref": "VPC"
                }
            }
        },
        "VPCEndpointS3": {
            "Type": "AWS::EC2::VPCEndpoint",
            "Properties": {
                "RouteTableIds": [
                    {
                        "Ref": "PrivateRouteTableUSWEST2A"
                    },
                    {
                        "Ref": "PrivateRouteTableUSWEST2B"
                    },
                    {
                        "Ref": "PrivateRouteTableUSWEST2C"
                    },
                    {
                        "Ref": "PrivateRouteTableUSWEST2D"
                    }
                ],
                "ServiceName": "com.amazonaws.us-west-2.s3",
                "VpcEndpointType": "Gateway",
                "VpcId": {
                    "Ref": "VPC"
                }
            }
        },
        "VPCEndpointSTS": {
            "Type": "AWS::EC2::VPCEndpoint",
            "Properties": {
                "PrivateDnsEnabled": true,
                "SecurityGroupIds": [
                    "sg-test"
                ],
                "ServiceName": "com.amazonaws.us-west-2.sts",
                "SubnetIds": [
                    {
                        "Ref": "SubnetPrivateUSWEST2A"
                    },
                    {
                        "Ref": "SubnetPrivateUSWEST2B"
                    },
                    {
                        "Ref": "SubnetPrivateUSWEST2C"
                    }
                ],
                "VpcEndpointType": "Interface",
                "VpcId": {
                    "Ref": "VPC"
                }
            }
        }
    }
}
